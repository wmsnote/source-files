<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wums</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="wums note">
    <link rel="preload" href="/source-files/assets/css/0.styles.65bc254d.css" as="style"><link rel="preload" href="/source-files/assets/js/app.11f8548d.js" as="script"><link rel="preload" href="/source-files/assets/js/2.6ef31ef9.js" as="script"><link rel="preload" href="/source-files/assets/js/39.d7760194.js" as="script"><link rel="prefetch" href="/source-files/assets/js/10.bb5c8724.js"><link rel="prefetch" href="/source-files/assets/js/11.e406a39f.js"><link rel="prefetch" href="/source-files/assets/js/12.61ba9b2e.js"><link rel="prefetch" href="/source-files/assets/js/13.af2d72b3.js"><link rel="prefetch" href="/source-files/assets/js/14.36234bf7.js"><link rel="prefetch" href="/source-files/assets/js/15.c394e3d4.js"><link rel="prefetch" href="/source-files/assets/js/16.be6df2db.js"><link rel="prefetch" href="/source-files/assets/js/17.9e8ceedd.js"><link rel="prefetch" href="/source-files/assets/js/18.e1c0321a.js"><link rel="prefetch" href="/source-files/assets/js/19.2da74833.js"><link rel="prefetch" href="/source-files/assets/js/20.e5673162.js"><link rel="prefetch" href="/source-files/assets/js/21.fde8fbc4.js"><link rel="prefetch" href="/source-files/assets/js/22.c696124c.js"><link rel="prefetch" href="/source-files/assets/js/23.dec40798.js"><link rel="prefetch" href="/source-files/assets/js/24.3daac1bc.js"><link rel="prefetch" href="/source-files/assets/js/25.8c3cae2d.js"><link rel="prefetch" href="/source-files/assets/js/26.5a0cce67.js"><link rel="prefetch" href="/source-files/assets/js/27.b958c07f.js"><link rel="prefetch" href="/source-files/assets/js/28.6cc61f46.js"><link rel="prefetch" href="/source-files/assets/js/29.6e04bd3d.js"><link rel="prefetch" href="/source-files/assets/js/3.6141c375.js"><link rel="prefetch" href="/source-files/assets/js/30.7cd2f5d6.js"><link rel="prefetch" href="/source-files/assets/js/31.4fb132c2.js"><link rel="prefetch" href="/source-files/assets/js/32.63f9f4ef.js"><link rel="prefetch" href="/source-files/assets/js/33.128cd606.js"><link rel="prefetch" href="/source-files/assets/js/34.2824fb6c.js"><link rel="prefetch" href="/source-files/assets/js/35.e41a0dad.js"><link rel="prefetch" href="/source-files/assets/js/36.2754cee0.js"><link rel="prefetch" href="/source-files/assets/js/37.f55f5936.js"><link rel="prefetch" href="/source-files/assets/js/38.ae050ea7.js"><link rel="prefetch" href="/source-files/assets/js/4.d76f0767.js"><link rel="prefetch" href="/source-files/assets/js/40.64e139e7.js"><link rel="prefetch" href="/source-files/assets/js/41.e37014fc.js"><link rel="prefetch" href="/source-files/assets/js/42.7857ed1b.js"><link rel="prefetch" href="/source-files/assets/js/43.dd497feb.js"><link rel="prefetch" href="/source-files/assets/js/44.86f3c298.js"><link rel="prefetch" href="/source-files/assets/js/45.59385537.js"><link rel="prefetch" href="/source-files/assets/js/46.04da6ef6.js"><link rel="prefetch" href="/source-files/assets/js/47.d44317fb.js"><link rel="prefetch" href="/source-files/assets/js/48.c577aacc.js"><link rel="prefetch" href="/source-files/assets/js/49.8a2e2bbb.js"><link rel="prefetch" href="/source-files/assets/js/5.17e27241.js"><link rel="prefetch" href="/source-files/assets/js/50.aa2d97e6.js"><link rel="prefetch" href="/source-files/assets/js/51.ea141bc7.js"><link rel="prefetch" href="/source-files/assets/js/52.99ce77dd.js"><link rel="prefetch" href="/source-files/assets/js/53.aad8a816.js"><link rel="prefetch" href="/source-files/assets/js/54.7aafa658.js"><link rel="prefetch" href="/source-files/assets/js/55.011f35e0.js"><link rel="prefetch" href="/source-files/assets/js/56.773b293e.js"><link rel="prefetch" href="/source-files/assets/js/57.0dd4e78a.js"><link rel="prefetch" href="/source-files/assets/js/58.b57c957a.js"><link rel="prefetch" href="/source-files/assets/js/59.ec1115a7.js"><link rel="prefetch" href="/source-files/assets/js/6.ea86a040.js"><link rel="prefetch" href="/source-files/assets/js/60.106d55d4.js"><link rel="prefetch" href="/source-files/assets/js/61.4945e711.js"><link rel="prefetch" href="/source-files/assets/js/62.b05b7699.js"><link rel="prefetch" href="/source-files/assets/js/7.851d829a.js"><link rel="prefetch" href="/source-files/assets/js/8.106554bf.js"><link rel="prefetch" href="/source-files/assets/js/9.28ed91f3.js">
    <link rel="stylesheet" href="/source-files/assets/css/0.styles.65bc254d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/source-files/" class="home-link router-link-active"><!----> <span class="site-name">wums</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/source-files/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://gitee.com/wmsnote/dashboard/wikis" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WiKi
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://gitee.com/wmsnote/source-files" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitEE
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/source-files/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://gitee.com/wmsnote/dashboard/wikis" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WiKi
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://gitee.com/wmsnote/source-files" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitEE
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/shell/" class="sidebar-heading clickable router-link-active open"><span>shell</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/source-files/shell/Bash简介.html" class="sidebar-link">Bash简介</a></li><li><a href="/source-files/shell/基本语法.html" class="sidebar-link">基本语法</a></li><li><a href="/source-files/shell/Bash的模式扩展.html" class="sidebar-link">Bash的模式扩展</a></li><li><a href="/source-files/shell/引号和转义.html" class="active sidebar-link">引号和转义</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/source-files/shell/引号和转义.html#_1-转义" class="sidebar-link">1. 转义</a></li><li class="sidebar-sub-header"><a href="/source-files/shell/引号和转义.html#_2-单引号" class="sidebar-link">2. 单引号</a></li><li class="sidebar-sub-header"><a href="/source-files/shell/引号和转义.html#_3-双引号" class="sidebar-link">3. 双引号</a></li><li class="sidebar-sub-header"><a href="/source-files/shell/引号和转义.html#_4-here-文档" class="sidebar-link">4. Here 文档</a></li><li class="sidebar-sub-header"><a href="/source-files/shell/引号和转义.html#_5-here-字符串" class="sidebar-link">5. Here 字符串</a></li></ul></li><li><a href="/source-files/shell/变量.html" class="sidebar-link">变量</a></li><li><a href="/source-files/shell/字符串操作.html" class="sidebar-link">字符串操作</a></li><li><a href="/source-files/shell/算数运算.html" class="sidebar-link">算数运算</a></li><li><a href="/source-files/shell/Bash行操作.html" class="sidebar-link">Bash行操作</a></li><li><a href="/source-files/shell/目录堆栈.html" class="sidebar-link">目录堆栈</a></li><li><a href="/source-files/shell/Bash脚本入门.html" class="sidebar-link">Bash脚本入门</a></li><li><a href="/source-files/shell/read命令.html" class="sidebar-link">read命令</a></li><li><a href="/source-files/shell/条件判断.html" class="sidebar-link">条件判断</a></li><li><a href="/source-files/shell/循环.html" class="sidebar-link">循环</a></li><li><a href="/source-files/shell/函数.html" class="sidebar-link">函数</a></li><li><a href="/source-files/shell/数组.html" class="sidebar-link">数组</a></li><li><a href="/source-files/shell/set.html" class="sidebar-link">set命令</a></li><li><a href="/source-files/shell/脚本除错.html" class="sidebar-link">脚本除错</a></li><li><a href="/source-files/shell/mktemp_and_trap.html" class="sidebar-link">mktemp命令和trap命令</a></li><li><a href="/source-files/shell/Bash启动环境.html" class="sidebar-link">Bash启动环境</a></li><li><a href="/source-files/shell/命令提示符.html" class="sidebar-link">命令提示符</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/设计模式/" class="sidebar-heading clickable"><span>设计模式</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/prometheus/" class="sidebar-heading clickable"><span>prometheus</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/travis-ci/" class="sidebar-heading clickable"><span>travis-ci教程</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/Dockerfile/" class="sidebar-heading clickable"><span>Dockerfile</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/java/" class="sidebar-heading clickable"><span>Java教程</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/springboot2/" class="sidebar-heading clickable"><span>SpringBoot2.x</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Bash 只有一种数据类型，就是字符串。不管用户输入什么数据，Bash 都视为字符串。因此，字符串相关的引号和转义，对 Bash 来说就非常重要。</p> <h2 id="_1-转义"><a href="#_1-转义" class="header-anchor">#</a> 1. 转义</h2> <p>某些字符在 Bash 里面有特殊含义（比如<code>$</code>、<code>&amp;</code>、<code>*</code>）。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token variable">$date</span>

$
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面例子中，输出$date不会有任何结果，因为$是一个特殊字符。</p> <p>如果想要原样输出这些特殊字符，就必须在它们前面加上反斜杠，使其变成普通字符。这就叫做“转义”（escape）。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token punctuation">\</span><span class="token variable">$date</span>
<span class="token variable">$date</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面命令中，只有在特殊字符$前面加反斜杠，才能原样输出。</p> <p>反斜杠本身也是特殊字符，如果想要原样输出反斜杠，就需要对它自身转义，连续使用两个反斜线（\）。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token punctuation">\</span><span class="token punctuation">\</span>
<span class="token punctuation">\</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面例子输出了反斜杠本身。</p> <p>反斜杠除了用于转义，还可以表示一些不可打印的字符。</p> <p><code>\a</code>：响铃
<code>\b</code>：退格
<code>\n</code>：换行
<code>\r</code>：回车
<code>\t</code>：制表符</p> <p>如果想要在命令行使用这些不可打印的字符，可以把它们放在引号里面，然后使用echo命令的-e参数。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> a<span class="token punctuation">\</span>tb
atb

$ <span class="token builtin class-name">echo</span> -e <span class="token string">&quot;a<span class="token entity" title="\t">\t</span>b&quot;</span>
a        b
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面例子中，命令行直接输出不可打印字符，Bash 不能正确解释。必须把它们放在引号之中，然后使用echo命令的-e参数。</p> <p>由于反斜杠可以对换行符转义，使得 Bash 认为换行符是一个普通字符，从而可以将一行命令写成多行。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">mv</span> <span class="token punctuation">\</span>
/path/to/foo <span class="token punctuation">\</span>
/path/to/bar
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>$ mv /path/to/foo /path/to/bar</code></p> <p>上面例子中，如果一条命令过长，就可以在行尾使用反斜杠，将其改写成多行。这是常见的多行命令的写法。</p> <h2 id="_2-单引号"><a href="#_2-单引号" class="header-anchor">#</a> 2. 单引号</h2> <p>Bash 允许字符串放在单引号或双引号之中，加以引用。</p> <p>单引号用于保留字符的字面含义，各种特殊字符在单引号里面，都会变为普通字符，比如星号（<code>*</code>）、美元符号（<code>$</code>）、反斜杠（<code>\</code>）等。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">'*'</span>
*

$ <span class="token builtin class-name">echo</span> <span class="token string">'<span class="token environment constant">$USER</span>'</span>
<span class="token environment constant">$USER</span>

$ <span class="token builtin class-name">echo</span> <span class="token string">'<span class="token variable"><span class="token variable">$((</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token variable">))</span></span>'</span>
<span class="token variable"><span class="token variable">$((</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token variable">))</span></span>

$ <span class="token builtin class-name">echo</span> <span class="token string">'<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> foo<span class="token variable">)</span></span>'</span>
<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> foo<span class="token variable">)</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>上面命令中，单引号使得 Bash 扩展、变量引用、算术运算和子命令，都失效了。如果不使用单引号，它们都会被 Bash 自动扩展。</p> <p>由于反斜杠在单引号里面变成了普通字符，所以如果单引号之中，还要使用单引号，不能使用转义，需要在外层的单引号前面加上一个美元符号（$），然后再对里层的单引号转义。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> it<span class="token string">'s

# 不正确
$ echo '</span>it<span class="token punctuation">\</span>'s<span class="token string">'


$ echo $'</span>it<span class="token punctuation">\</span>'s'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>不过，更合理的方法是改在双引号之中使用单引号。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;it's&quot;</span>
it's
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_3-双引号"><a href="#_3-双引号" class="header-anchor">#</a> 3. 双引号</h2> <p>双引号比单引号宽松，可以保留大部分特殊字符的本来含义，但是三个字符除外：美元符号（$）、反引号（`）和反斜杠（\）。也就是说，这三个字符在双引号之中，会被 Bash 自动扩展。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;*&quot;</span>
*
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面例子中，通配符<code>*</code>放在双引号之中，就变成了普通字符，会原样输出。这一点需要特别留意，双引号里面不会进行文件名扩展。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token environment constant">$SHELL</span>&quot;</span>
/bin/bash

$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span>&quot;</span>
Mon Jan <span class="token number">27</span> <span class="token number">13</span>:33:18 CST <span class="token number">2020</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面例子中，美元符号和反引号在双引号中，都保持特殊含义。美元符号用来引用变量，反引号则是执行子命令。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;I'd say: <span class="token entity" title="\&quot;">\&quot;</span>hello!<span class="token entity" title="\&quot;">\&quot;</span>&quot;</span>
I'd say: <span class="token string">&quot;hello!&quot;</span>

$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token entity" title="\\">\\</span>&quot;</span>
<span class="token punctuation">\</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面例子中，反斜杠在双引号之中保持特殊含义，用来转义。所以，可以使用反斜杠，在双引号之中插入双引号，或者插入反斜杠本身。</p> <p>由于双引号将换行符解释为普通字符，所以可以利用双引号，在命令行输入多行文本。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;hello
world&quot;</span>
hello
world
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面命令中，Bash 正常情况下会将换行符解释为命令结束，但是换行符在双引号之中就是普通字符，所以可以输入多行。
echo命令会将换行符原样输出，显示的时候正常解释为换行。</p> <p>双引号的另一个常见的使用场合是，文件名包含空格。这时就必须使用双引号，将文件名放在里面。</p> <p><code>$ ls &quot;two words.txt&quot;</code>
上面命令中，two words.txt是一个包含空格的文件名，否则就会被 Bash 当作两个文件。</p> <p>双引号会原样保存多余的空格。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;this is a     test&quot;</span>
this is a     <span class="token builtin class-name">test</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>双引号还有一个作用，就是保存原始命令的输出格式。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">cal</span><span class="token variable">)</span></span>
一月 <span class="token number">2020</span> 日 一 二 三 四 五 六 <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token punctuation">..</span>. <span class="token number">31</span>


$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">cal</span><span class="token variable">)</span></span>&quot;</span>
      一月 <span class="token number">2020</span>
日 一 二 三 四 五 六
          <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>
 <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span>
<span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span>
<span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span>
<span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span> <span class="token number">31</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>上面例子中，如果$(cal)不放在双引号之中，echo就会将所有结果以单行输出，丢弃了所有原始的格式。</p> <h2 id="_4-here-文档"><a href="#_4-here-文档" class="header-anchor">#</a> 4. Here 文档</h2> <p>Here 文档（here document）是一种输入多行字符串的方法，格式如下。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token operator">&lt;&lt;</span> <span class="token string">token
text
token</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>它的格式分成开始标记（<code>&lt;&lt; token</code>）和结束标记（<code>token</code>）。开始标记是两个小于号 + Here 文档的名称，名称可以随意取，后面必须是一个换行符；结束标记是单独一行顶格写的 Here 文档名称，如果不是顶格，结束标记不起作用。两者之间就是多行字符串的内容。</p> <p>下面是一个通过 Here 文档输出 HTML 代码的例子。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">_EOF_
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;
    The title of your page
    &lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    Your page content goes here.
&lt;/body&gt;
&lt;/html&gt;
_EOF_</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Here 文档内部会发生变量替换和通配符扩展，但是双引号和单引号都失去语法作用，变成了普通字符。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token string">'hello world'</span>
$ <span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">_example_
<span class="token variable">$foo</span>
&quot;<span class="token variable">$foo</span>&quot;
'<span class="token variable">$foo</span>'
_example_</span>

hello world
<span class="token string">&quot;hello world&quot;</span>
<span class="token string">'hello world'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面例子中，变量$foo发生了替换，但是双引号和单引号都原样输出了，表明它们已经失去了引用的功能。</p> <p>如果不希望发生变量替换和通配符扩展，可以把 Here 文档的开始标记放在单引号之中。</p> <div class="language-Bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token string">'hello world'</span>
$ <span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'_example_'
$foo
&quot;$foo&quot;
'$foo'
_example_</span>

<span class="token variable">$foo</span>
<span class="token string">&quot;<span class="token variable">$foo</span>&quot;</span>
<span class="token string">'<span class="token variable">$foo</span>'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面例子中，Here 文档的开始标记（<em>example</em>）放在单引号之中，导致变量替换失效了。</p> <p>Here 文档的本质是重定向，它将字符串重定向输出给某个命令，相当于包含了echo命令。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">command</span> <span class="token operator">&lt;&lt;</span> <span class="token string">token
  string
token</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> string <span class="token operator">|</span> <span class="token builtin class-name">command</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面代码中，Here 文档相当于echo命令的重定向。</p> <p>所以，Here 字符串只适合那些可以接受标准输入作为参数的命令，对于其他命令无效，比如echo命令就不能用 Here 文档作为参数。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token operator">&lt;&lt;</span> <span class="token string">_example_
hello
_example_</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面例子不会有任何输出，因为 Here 文档对于echo命令无效。</p> <p>此外，Here 文档也不能作为变量的值，只能用于命令的参数。</p> <h2 id="_5-here-字符串"><a href="#_5-here-字符串" class="header-anchor">#</a> 5. Here 字符串</h2> <p>Here 文档还有一个变体，叫做 Here 字符串（Here string），使用三个小于号（&lt;&lt;&lt;）表示。</p> <p><code>&lt;&lt;&lt; string</code> 它的作用是将字符串通过标准输入，传递给命令。</p> <p>有些命令直接接受给定的参数，与通过标准输入接受参数，结果是不一样的。所以才有了这个语法，使得将字符串通过标准输入传递给命令更方便，比如cat命令只接受标准输入传入的字符串。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">cat</span> <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">'hi there'</span>
<span class="token comment">#相当于</span>
$ <span class="token builtin class-name">echo</span> <span class="token string">'hi there'</span> <span class="token operator">|</span> <span class="token function">cat</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面的第一种语法使用了 Here 字符串，要比第二种语法看上去语义更好，也更简洁。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ md5sum <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">'ddd'</span>

$ <span class="token builtin class-name">echo</span> <span class="token string">'ddd'</span> <span class="token operator">|</span> md5sum
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面例子中，md5sum命令只能接受标准输入作为参数，不能直接将字符串放在命令后面，会被当作文件名，即md5sum ddd里面的ddd会被解释成文件名。这时就可以用 Here 字符串，将字符串传给md5sum命令。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/21/2020, 8:34:24 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/source-files/shell/Bash的模式扩展.html" class="prev">
        Bash的模式扩展
      </a></span> <span class="next"><a href="/source-files/shell/变量.html">
        变量
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/source-files/assets/js/app.11f8548d.js" defer></script><script src="/source-files/assets/js/2.6ef31ef9.js" defer></script><script src="/source-files/assets/js/39.d7760194.js" defer></script>
  </body>
</html>
