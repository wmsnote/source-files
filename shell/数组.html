<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wums</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="wums note">
    <link rel="preload" href="/source-files/assets/css/0.styles.65bc254d.css" as="style"><link rel="preload" href="/source-files/assets/js/app.ef7364b4.js" as="script"><link rel="preload" href="/source-files/assets/js/2.6ef31ef9.js" as="script"><link rel="preload" href="/source-files/assets/js/39.13e53186.js" as="script"><link rel="prefetch" href="/source-files/assets/js/10.bb5c8724.js"><link rel="prefetch" href="/source-files/assets/js/11.e406a39f.js"><link rel="prefetch" href="/source-files/assets/js/12.61ba9b2e.js"><link rel="prefetch" href="/source-files/assets/js/13.af2d72b3.js"><link rel="prefetch" href="/source-files/assets/js/14.36234bf7.js"><link rel="prefetch" href="/source-files/assets/js/15.c394e3d4.js"><link rel="prefetch" href="/source-files/assets/js/16.be6df2db.js"><link rel="prefetch" href="/source-files/assets/js/17.9e8ceedd.js"><link rel="prefetch" href="/source-files/assets/js/18.e1c0321a.js"><link rel="prefetch" href="/source-files/assets/js/19.2da74833.js"><link rel="prefetch" href="/source-files/assets/js/20.e5673162.js"><link rel="prefetch" href="/source-files/assets/js/21.fde8fbc4.js"><link rel="prefetch" href="/source-files/assets/js/22.c696124c.js"><link rel="prefetch" href="/source-files/assets/js/23.dec40798.js"><link rel="prefetch" href="/source-files/assets/js/24.3daac1bc.js"><link rel="prefetch" href="/source-files/assets/js/25.8c3cae2d.js"><link rel="prefetch" href="/source-files/assets/js/26.5a0cce67.js"><link rel="prefetch" href="/source-files/assets/js/27.b958c07f.js"><link rel="prefetch" href="/source-files/assets/js/28.08360ef2.js"><link rel="prefetch" href="/source-files/assets/js/29.551c6de6.js"><link rel="prefetch" href="/source-files/assets/js/3.73c0be24.js"><link rel="prefetch" href="/source-files/assets/js/30.50d0875b.js"><link rel="prefetch" href="/source-files/assets/js/31.ea156973.js"><link rel="prefetch" href="/source-files/assets/js/32.ae47ebff.js"><link rel="prefetch" href="/source-files/assets/js/33.646d1852.js"><link rel="prefetch" href="/source-files/assets/js/34.22d4caef.js"><link rel="prefetch" href="/source-files/assets/js/35.d92f3b44.js"><link rel="prefetch" href="/source-files/assets/js/36.629d67a3.js"><link rel="prefetch" href="/source-files/assets/js/37.393a4883.js"><link rel="prefetch" href="/source-files/assets/js/38.f5018763.js"><link rel="prefetch" href="/source-files/assets/js/4.d76f0767.js"><link rel="prefetch" href="/source-files/assets/js/40.0a48c5b5.js"><link rel="prefetch" href="/source-files/assets/js/41.f6ff92ad.js"><link rel="prefetch" href="/source-files/assets/js/42.5730c8b8.js"><link rel="prefetch" href="/source-files/assets/js/43.47d6fab2.js"><link rel="prefetch" href="/source-files/assets/js/44.96fdf375.js"><link rel="prefetch" href="/source-files/assets/js/45.29fc2d2e.js"><link rel="prefetch" href="/source-files/assets/js/46.1ada886f.js"><link rel="prefetch" href="/source-files/assets/js/47.572b31eb.js"><link rel="prefetch" href="/source-files/assets/js/48.93915389.js"><link rel="prefetch" href="/source-files/assets/js/49.7b7ed1b6.js"><link rel="prefetch" href="/source-files/assets/js/5.99381d80.js"><link rel="prefetch" href="/source-files/assets/js/50.10a7242e.js"><link rel="prefetch" href="/source-files/assets/js/51.537382f6.js"><link rel="prefetch" href="/source-files/assets/js/52.e95cefb0.js"><link rel="prefetch" href="/source-files/assets/js/53.8fd3401a.js"><link rel="prefetch" href="/source-files/assets/js/54.e8763c55.js"><link rel="prefetch" href="/source-files/assets/js/55.5831f009.js"><link rel="prefetch" href="/source-files/assets/js/6.4e3e6a42.js"><link rel="prefetch" href="/source-files/assets/js/7.e5cd0322.js"><link rel="prefetch" href="/source-files/assets/js/8.bef3d365.js"><link rel="prefetch" href="/source-files/assets/js/9.28ed91f3.js">
    <link rel="stylesheet" href="/source-files/assets/css/0.styles.65bc254d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/source-files/" class="home-link router-link-active"><!----> <span class="site-name">wums</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/source-files/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://gitee.com/wmsnote/dashboard/wikis" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WiKi
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://gitee.com/wmsnote/source-files" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitEE
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/source-files/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://gitee.com/wmsnote/dashboard/wikis" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WiKi
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://gitee.com/wmsnote/source-files" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitEE
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/shell/" class="sidebar-heading clickable router-link-active open"><span>shell</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/source-files/shell/Bash简介.html" class="sidebar-link">Bash简介</a></li><li><a href="/source-files/shell/基本语法.html" class="sidebar-link">基本语法</a></li><li><a href="/source-files/shell/Bash的模式扩展.html" class="sidebar-link">Bash的模式扩展</a></li><li><a href="/source-files/shell/引号和转义.html" class="sidebar-link">引号和转义</a></li><li><a href="/source-files/shell/变量.html" class="sidebar-link">变量</a></li><li><a href="/source-files/shell/字符串操作.html" class="sidebar-link">字符串操作</a></li><li><a href="/source-files/shell/算数运算.html" class="sidebar-link">算数运算</a></li><li><a href="/source-files/shell/Bash行操作.html" class="sidebar-link">Bash行操作</a></li><li><a href="/source-files/shell/目录堆栈.html" class="sidebar-link">目录堆栈</a></li><li><a href="/source-files/shell/条件判断.html" class="sidebar-link">条件判断</a></li><li><a href="/source-files/shell/循环.html" class="sidebar-link">循环</a></li><li><a href="/source-files/shell/函数.html" class="sidebar-link">函数</a></li><li><a href="/source-files/shell/set.html" class="sidebar-link">set命令</a></li><li><a href="/source-files/shell/脚本除错.html" class="sidebar-link">脚本除错</a></li><li><a href="/source-files/shell/mktemp_and_trap.html" class="sidebar-link">mktemp命令和trap命令</a></li><li><a href="/source-files/shell/Bash启动环境.html" class="sidebar-link">Bash启动环境</a></li><li><a href="/source-files/shell/命令提示符.html" class="sidebar-link">命令提示符</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/设计模式/" class="sidebar-heading clickable"><span>设计模式</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/prometheus/" class="sidebar-heading clickable"><span>prometheus</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/travis-ci/" class="sidebar-heading clickable"><span>travis-ci教程</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/Dockerfile/" class="sidebar-heading clickable"><span>Dockerfile</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/java/" class="sidebar-heading clickable"><span>Java教程</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/source-files/springboot2/" class="sidebar-heading clickable"><span>SpringBoot2.x</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>数组（array）是一个包含多个值的变量。成员的编号从0开始，数量没有上限，也没有要求成员被连续索引。</p> <h2 id="_1-创建数组"><a href="#_1-创建数组" class="header-anchor">#</a> 1. 创建数组</h2> <p>数组可以采用逐个赋值的方法创建。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ARRAY<span class="token punctuation">[</span>INDEX<span class="token punctuation">]</span><span class="token operator">=</span>value
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面语法中，ARRAY是数组的名字，可以是任意合法的变量名。INDEX是一个大于或等于零的整数，也可以是算术表达式。注意数组第一个元素的下标是0， 而不是1。</p> <p>下面创建一个三个成员的数组。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>val
$ array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>val
$ array<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>val
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>数组也可以采用一次性赋值的方式创建。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">ARRAY</span><span class="token operator">=</span><span class="token punctuation">(</span>value1 value2 <span class="token punctuation">..</span>. valueN<span class="token punctuation">)</span>



<span class="token assign-left variable">ARRAY</span><span class="token operator">=</span><span class="token punctuation">(</span>
  value1
  value2
  value3
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>采用上面方式创建数组时，可以按照默认顺序赋值，也可以在每个值前面指定位置。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c<span class="token punctuation">)</span>
$ <span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>c <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>a <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>b<span class="token punctuation">)</span>

$ <span class="token assign-left variable">days</span><span class="token operator">=</span><span class="token punctuation">(</span>Sun Mon Tue Wed Thu Fri Sat<span class="token punctuation">)</span>
$ <span class="token assign-left variable">days</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>Sun <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>Mon <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>Tue <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span>Wed <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span>Thu <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">=</span>Fri <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">=</span>Sat<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>只为某些值指定位置，也是可以的。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">names</span><span class="token operator">=</span><span class="token punctuation">(</span>hatter <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">=</span>duchess alice<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面例子中，hatter是数组的0号位置，duchess是5号位置，alice是6号位置。</p> <p>没有赋值的数组元素的默认值是空字符串。</p> <p>定义数组的时候，可以使用通配符。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">mp3s</span><span class="token operator">=</span><span class="token punctuation">(</span> *.mp3 <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面例子中，将当前目录的所有 MP3 文件，放进一个数组。</p> <p>先用<code>declare -a</code>命令声明一个数组，也是可以的。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span> -a ARRAYNAME
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>read -a</code>命令则是将用户的命令行输入，读入一个数组。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">read</span> -a dice
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面命令将用户的命令行输入，读入数组dice。</p> <h2 id="_2-读取数组"><a href="#_2-读取数组" class="header-anchor">#</a> 2. 读取数组</h2> <h3 id="_2-1-读取单个元素"><a href="#_2-1-读取单个元素" class="header-anchor">#</a> 2.1 读取单个元素</h3> <p>读取数组指定位置的成员，要使用下面的语法。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token variable">${array<span class="token punctuation">[</span>i<span class="token punctuation">]</span>}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面语法里面的大括号是必不可少的，否则 Bash 会把索引部分[i]按照原样输出。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>a

$ <span class="token builtin class-name">echo</span> <span class="token variable">${array<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>
a

$ <span class="token builtin class-name">echo</span> <span class="token variable">$array</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面例子中，数组的第一个元素是a。如果不加大括号，Bash 会直接读取$array首成员的值，然后将[0]按照原样输出。</p> <h3 id="_2-2-读取所有成员"><a href="#_2-2-读取所有成员" class="header-anchor">#</a> 2.2 读取所有成员</h3> <p><code>@</code>和<code>*</code>是数组的特殊索引，表示返回数组的所有成员。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c d e f<span class="token punctuation">)</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
a b c d e f
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这两个特殊索引配合for循环，就可以用来遍历数组。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${names<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>@</code>和<code>*</code>放不放在双引号之中，是有差别的。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">activities</span><span class="token operator">=</span><span class="token punctuation">(</span> swimming <span class="token string">&quot;water skiing&quot;</span> canoeing <span class="token string">&quot;white-water rafting&quot;</span> surfing <span class="token punctuation">)</span>
$ <span class="token keyword">for</span> <span class="token for-or-select variable">act</span> <span class="token keyword">in</span> <span class="token variable">${activities<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span><span class="token punctuation">;</span> <span class="token punctuation">\</span>
<span class="token keyword">do</span> <span class="token punctuation">\</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Activity: <span class="token variable">$act</span>&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">\</span>
<span class="token keyword">done</span>

Activity: swimming
Activity: water
Activity: skiing
Activity: canoeing
Activity: white-water
Activity: rafting
Activity: surfing
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>上面的例子中，数组activities实际包含5个元素，但是for...in循环直接遍历${activities[@]}，会导致返回7个结果。为了避免这种情况，一般把${activities[@]}放在双引号之中。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token keyword">for</span> <span class="token for-or-select variable">act</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${activities<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">\</span>
<span class="token keyword">do</span> <span class="token punctuation">\</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Activity: <span class="token variable">$act</span>&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">\</span>
<span class="token keyword">done</span>

Activity: swimming
Activity: water skiing
Activity: canoeing
Activity: white-water rafting
Activity: surfing
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面例子中，${activities[@]}放在双引号之中，遍历就会返回正确的结果。</p> <p><code>${activities[*]}</code>不放在双引号之中，跟<code>${activities[@]}</code>不放在双引号之中是一样的。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token keyword">for</span> <span class="token for-or-select variable">act</span> <span class="token keyword">in</span> <span class="token variable">${activities<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span><span class="token punctuation">;</span> <span class="token punctuation">\</span>
<span class="token keyword">do</span> <span class="token punctuation">\</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Activity: <span class="token variable">$act</span>&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">\</span>
<span class="token keyword">done</span>

Activity: swimming
Activity: water
Activity: skiing
Activity: canoeing
Activity: white-water
Activity: rafting
Activity: surfing
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>${activities[*]}</code>放在双引号之中，所有元素就会变成单个字符串返回。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ for act in &quot;${activities[*]}&quot;; \
do \
echo &quot;Activity: $act&quot;; \
done

Activity: swimming water skiing canoeing white-water rafting surfing
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>所以，拷贝一个数组的最方便方法，就是写成下面这样。</p> <p><code>$ hobbies=( &quot;${activities[@]}&quot; )</code></p> <p>上面例子中，数组activities被拷贝给了另一个数组hobbies。</p> <p>这种写法也可以用来为新数组添加成员。</p> <p><code>$ hobbies=( &quot;${activities[@]&quot; diving )</code></p> <p>上面例子中，新数组hobbies在数组activities的所有成员之后，又添加了一个成员。</p> <h2 id="_3-默认位置"><a href="#_3-默认位置" class="header-anchor">#</a> 3. 默认位置</h2> <p>如果读取数组成员时，没有读取指定哪一个位置的成员，默认使用0号位置。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span> -a foo
$ <span class="token assign-left variable">foo</span><span class="token operator">=</span>A
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>
A
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面例子中，foo是一个数组，赋值的时候不指定位置，实际上是给foo[0]赋值。</p> <p>引用一个不带下标的数组变量，则引用的是0号位置的数组元素。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c d e f<span class="token punctuation">)</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo}</span>
a
$ <span class="token builtin class-name">echo</span> <span class="token variable">$foo</span>
a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面例子中，引用数组元素的时候，没有指定位置，结果返回的是0号位置。</p> <h2 id="_4-数组的长度"><a href="#_4-数组的长度" class="header-anchor">#</a> 4. 数组的长度</h2> <p>要想知道数组的长度（即一共包含多少成员），可以使用下面两种语法。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token variable">${<span class="token operator">#</span>array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>
<span class="token variable">${<span class="token operator">#</span>array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>下面是一个例子。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ a<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token operator">=</span>foo

$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>a<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>
<span class="token number">1</span>

$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>a<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
<span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面例子中，把字符串赋值给100位置的数组元素，这时的数组只有一个元素。</p> <p>注意，如果用这种语法去读取具体的数组成员，就会返回该成员的字符串长度。这一点必须小心。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ a<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token operator">=</span>foo
$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>a<span class="token punctuation">[</span>100<span class="token punctuation">]</span>}</span>
<span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面例子中，<code>${#a[100]}</code>实际上是返回数组第100号成员a[100]的值（foo）的字符串长度。</p> <h2 id="_5-提取数组序号"><a href="#_5-提取数组序号" class="header-anchor">#</a> 5. 提取数组序号</h2> <p><code>${!array[@]}</code>或<code>${!array[*]}</code>，可以返回数组的成员序号，即哪些位置是有值的。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">=</span>a <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">=</span>b <span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">]</span><span class="token operator">=</span>c<span class="token punctuation">)</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">!</span>arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
<span class="token number">5</span> <span class="token number">9</span> <span class="token number">23</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">!</span>arr<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>
<span class="token number">5</span> <span class="token number">9</span> <span class="token number">23</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面例子中，数组的5、9、23号位置有值。</p> <p>利用这个语法，也可以通过for循环遍历数组。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c d<span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable">${<span class="token operator">!</span>arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span><span class="token punctuation">;</span><span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token variable">${arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>}</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_6-提取数组成员"><a href="#_6-提取数组成员" class="header-anchor">#</a> 6. 提取数组成员</h2> <p><code>${array[@]:position:length}</code>的语法可以提取数组成员。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">food</span><span class="token operator">=</span><span class="token punctuation">(</span> apples bananas cucumbers dates eggs fajitas grapes <span class="token punctuation">)</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${food<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token operator">:</span>1<span class="token operator">:</span>1}</span>
bananas
$ <span class="token builtin class-name">echo</span> <span class="token variable">${food<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token operator">:</span>1<span class="token operator">:</span>3}</span>
bananas cucumbers dates
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面例子中，<code>${food[@]:1:1}</code>回从数组1号位置开始的1个成员，<code>${food[@]:1:3}</code>回从1号位置开始的3个成员。</p> <p>如果省略长度参数length，则返回从指定位置开始的所有成员。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token variable">${food<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token operator">:</span>4}</span>
eggs fajitas grapes
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面例子返回从4号位置开始到结束的所有成员。</p> <h2 id="_7-追加数组成员"><a href="#_7-追加数组成员" class="header-anchor">#</a> 7. 追加数组成员</h2> <p>数组末尾追加成员，可以使用+=赋值运算符。它能够自动地把值追加到数组末尾。否则，就需要知道数组的最大序号，比较麻烦。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c<span class="token punctuation">)</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
a b c

$ <span class="token assign-left variable">foo</span><span class="token operator">+=</span><span class="token punctuation">(</span>d e f<span class="token punctuation">)</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
a b c d e f
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_8-删除数组"><a href="#_8-删除数组" class="header-anchor">#</a> 8. 删除数组</h2> <p>删除一个数组成员，使用unset命令。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c d e f<span class="token punctuation">)</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
a b c d e f

$ <span class="token builtin class-name">unset</span> foo<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
a b d e f
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面例子中，删除了数组中的第三个元素，下标为2。</p> <p>删除成员也可以将这个成员设为空值。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c d e f<span class="token punctuation">)</span>
$ foo<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">''</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
a c d e f
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面例子中，将数组的第二个成员设为空字符串，就删除了这个成员。</p> <p>由于空值就是空字符串，所以下面这样写也可以，但是不建议这种写法。</p> <p>$ foo[1]=</p> <p>上面的写法也相当于删除了数组的第二个成员。</p> <p>直接将数组变量赋值为空字符串，相当于删除数组的第一个成员。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c d e f<span class="token punctuation">)</span>
$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token string">''</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
b c d e f
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面的写法相当于删除了数组的第一个成员。</p> <p><code>unset ArrayName</code>可以清空整个数组。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">unset</span> ARRAY

$ <span class="token builtin class-name">echo</span> <span class="token variable">${ARRAY<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>
<span class="token operator">&lt;</span>--no output--<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_9-关联数组"><a href="#_9-关联数组" class="header-anchor">#</a> 9. 关联数组</h2> <p>Bash 的新版本支持关联数组。关联数组使用字符串而不是整数作为数组索引。</p> <p><code>declare -A</code> 可以声明关联数组。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">declare</span> -A colors
colors<span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;#ff0000&quot;</span>
colors<span class="token punctuation">[</span><span class="token string">&quot;green&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;#00ff00&quot;</span>
colors<span class="token punctuation">[</span><span class="token string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;#0000ff&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>整数索引的数组，可以直接使用变量名创建数组，关联数组则必须用带有-A选项的declare命令声明创建。</p> <p>访问关联数组成员的方式，几乎与整数索引数组相同。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token variable">${colors<span class="token punctuation">[</span>&quot;blue&quot;<span class="token punctuation">]</span>}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/20/2020, 2:58:10 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/source-files/assets/js/app.ef7364b4.js" defer></script><script src="/source-files/assets/js/2.6ef31ef9.js" defer></script><script src="/source-files/assets/js/39.13e53186.js" defer></script>
  </body>
</html>
