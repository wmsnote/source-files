(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{389:function(s,a,t){"use strict";t.r(a);var n=t(9),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[s._v("#")]),s._v(" 1. 简介")]),s._v(" "),t("p",[s._v("Shell 接收到用户输入的命令以后，会根据空格将用户的输入，拆分成一个个词元（token）。然后，Shell 会扩展词元里面的特殊字符，扩展完成后才会调用相应的命令。")]),s._v(" "),t("p",[s._v("这种特殊字符的扩展，称为模式扩展（globbing）。其中有些用到通配符，又称为通配符扩展（wildcard expansion）。Bash 一共提供八种扩展。")]),s._v(" "),t("ul",[t("li",[s._v("波浪线扩展")]),s._v(" "),t("li",[s._v("? 字符扩展")]),s._v(" "),t("li",[t("ul",[t("li",[s._v("字符扩展")])])]),s._v(" "),t("li",[s._v("方括号扩展")]),s._v(" "),t("li",[s._v("大括号扩展")]),s._v(" "),t("li",[s._v("变量扩展")]),s._v(" "),t("li",[s._v("子命令扩展")]),s._v(" "),t("li",[s._v("算术扩展")])]),s._v(" "),t("p",[s._v("本章介绍这八种扩展。")]),s._v(" "),t("p",[s._v("Bash 是先进行扩展，再执行命令。因此，扩展的结果是由 Bash 负责的，与所要执行的命令无关。\n命令本身并不存在参数扩展，收到什么参数就原样执行。这一点务必需要记住。")]),s._v(" "),t("p",[s._v("globbing这个词，来自于早期的 Unix 系统有一个/etc/glob文件，保存扩展的模板。后来 Bash 内置了这个功能，但是这个名字就保留了下来。")]),s._v(" "),t("p",[s._v("模式扩展与正则表达式的关系是，模式扩展早于正则表达式出现，可以看作是原始的正则表达式。它的功能没有正则那么强大灵活，但是优点是简单和方便。")]),s._v(" "),t("p",[s._v("Bash 允许用户关闭扩展。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -o noglob\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -f\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("下面的命令可以重新打开扩展。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" +o noglob\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" +f\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"_2-波浪线扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-波浪线扩展"}},[s._v("#")]),s._v(" 2. 波浪线扩展~")]),s._v(" "),t("p",[s._v("波浪线"),t("code",[s._v("~")]),s._v("会自动扩展成当前用户的主目录。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" ~\n/home/me\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("~/dir")]),s._v("表示扩展成主目录的某个子目录，dir是主目录里面的一个子目录名。\n"),t("code",[s._v("$ cd ~/foo")])]),s._v(" "),t("p",[t("code",[s._v("~user")]),s._v("表示扩展成用户user的主目录。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" ~foo\n/home/foo\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" ~root\n/root\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("上面例子中，Bash 会根据波浪号后面的用户名，返回该用户的主目录。")]),s._v(" "),t("p",[s._v("如果"),t("code",[s._v("~user")]),s._v("的user是不存在的用户名，则波浪号扩展不起作用。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" ~nonExistedUser\n~nonExistedUser\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("~+")]),s._v("会扩展成当前所在的目录，等同于pwd命令。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/foo\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" ~+\n/home/me/foo\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"_3-字符扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-字符扩展"}},[s._v("#")]),s._v(" 3. ? 字符扩展")]),s._v(" "),t("p",[s._v("?字符代表文件路径里面的任意单个字符，不包括空字符。比如，Data???匹配所有Data后面跟着三个字符的文件名。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" ?.txt\na.txt b.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面命令中，?表示单个字符，所以会同时匹配a.txt和b.txt。")]),s._v(" "),t("p",[s._v("如果匹配多个字符，就需要多个?连用。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" ??.txt\nab.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面命令中，??匹配了两个字符。")]),s._v(" "),t("p",[t("code",[s._v("?")]),s._v(" 字符扩展属于文件名扩展，只有文件确实存在的前提下，才会发生扩展。如果文件不存在，扩展就不会发生。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" ?.txt\na.txt\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" ?.txt\n?.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("上面例子中，如果?.txt可以扩展成文件名，echo命令会输出扩展后的结果；如果不能扩展成文件名，echo就会原样输出?.txt。")]),s._v(" "),t("h2",{attrs:{id:"_4-字符扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-字符扩展"}},[s._v("#")]),s._v(" 4. * 字符扩展")]),s._v(" "),t("p",[t("code",[s._v("*")]),s._v("字符代表文件路径里面的任意数量的字符，包括零个字符。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" *.txt\na.txt b.txt ab.txt\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" *\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("下面是"),t("code",[s._v("*")]),s._v("匹配空字符的例子。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" a*.txt\na.txt ab.txt\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" *b*\nb.txt ab.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("注意，"),t("code",[s._v("*")]),s._v("不会匹配隐藏文件（以.开头的文件）。")]),s._v(" "),t("p",[t("code",[s._v("$ echo .*")])]),s._v(" "),t("p",[t("code",[s._v("$ echo .[!.]*")]),s._v(" "),t("code",[s._v("*")]),s._v("字符扩展也属于文件名扩展，只有文件确实存在的前提下才会扩展。如果文件不存在，就会原样输出。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" c*.txt\nc*.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面例子中，当前目录里面没有c开头的文件，导致"),t("code",[s._v("c*.txt")]),s._v("会原样输出。")]),s._v(" "),t("p",[t("code",[s._v("*")]),s._v("只匹配当前目录，不会匹配子目录。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" *.txt\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" */*.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("上面的例子，文本文件在子目录，"),t("code",[s._v("*.txt")]),s._v("不会产生匹配，必须写成"),t("code",[s._v("*/*.txt")]),s._v("。有几层子目录，就必须写几层星号。")]),s._v(" "),t("p",[s._v("Bash 4.0 引入了一个参数globstar，当该参数打开时，允许"),t("code",[s._v("**")]),s._v("匹配零个或多个子目录。\n因此，"),t("code",[s._v("**/*.txt")]),s._v("可以匹配顶层的文本文件和任意深度子目录的文本文件。详细介绍请看后面shopt命令的介绍。")]),s._v(" "),t("h2",{attrs:{id:"_5-方括号扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-方括号扩展"}},[s._v("#")]),s._v(" 5. 方括号扩展[]")]),s._v(" "),t("p",[s._v("方括号扩展的形式是[...]，只有文件确实存在的前提下才会扩展。如果文件不存在，就会原样输出。括号之中的任意一个字符。比如，[aeiou]可以匹配五个元音字母中的任意一个。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ab"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".txt\na.txt b.txt\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ab"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".txt\na.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("上面例子中，[ab]可以匹配a或b，前提是确实存在相应的文件。")]),s._v(" "),t("p",[s._v("方括号扩展属于文件名匹配，即扩展后的结果必须符合现有的文件路径。如果不存在匹配，就会保持原样，不进行扩展。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ab"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".txt\nls: 无法访问"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[ab].txt'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 没有那个文件或目录\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面例子中，由于扩展后的文件不存在，[ab].txt就原样输出了，导致ls命名报错。")]),s._v(" "),t("p",[s._v("方括号扩展还有两种变体："),t("code",[s._v("[^...]")]),s._v("和"),t("code",[s._v("[!...]")]),s._v("。它们表示匹配不在方括号里面的字符，这两种写法是等价的。\n比如，"),t("code",[s._v("[^abc]")]),s._v("或"),t("code",[s._v("[!abc]")]),s._v("表示匹配除了a、b、c以外的字符。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" ?"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("?\n\naba bbb\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("上面命令中，[!a]表示文件名第二个字符不是a的文件名，所以返回了aba和bbb两个文件。")]),s._v(" "),t("p",[s._v("注意，如果需要匹配[字符，可以放在方括号内，比如[[aeiou]。如果需要匹配连字号-，只能放在方括号内部的开头或结尾，比如[-aeiou]或[aeiou-]。")]),s._v(" "),t("h3",{attrs:{id:"_5-1-start-end-扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-start-end-扩展"}},[s._v("#")]),s._v(" 5.1 [start-end] 扩展")]),s._v(" "),t("p",[s._v("方括号扩展有一个简写形式[start-end]，表示匹配一个连续的范围。比如，[a-c]等同于[abc]，[0-9]匹配[0123456789]。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("a-c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".txt\na.txt\nb.txt\nc.txt\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" report"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".txt\nreport1.txt\nreport2.txt\nreport3.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("下面是一些常用简写的例子。")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("[a-z]")]),s._v("：所有小写字母。")]),s._v(" "),t("li",[t("code",[s._v("[a-zA-Z]")]),s._v("：所有小写字母与大写字母。")]),s._v(" "),t("li",[t("code",[s._v("[a-zA-Z0-9]")]),s._v("：所有小写字母、大写字母与数字。")]),s._v(" "),t("li",[t("code",[s._v("[abc]*")]),s._v("：所有以a、b、c字符之一开头的文件名。")]),s._v(" "),t("li",[t("code",[s._v("program.[co]")]),s._v("：文件program.c与文件program.o。")]),s._v(" "),t("li",[t("code",[s._v("BACKUP.[0-9][0-9][0-9]")]),s._v("：所有以BACKUP.开头，后面是三个数字的文件名。")])]),s._v(" "),t("p",[s._v("这种简写形式有一个否定形式[!start-end]，表示匹配不属于这个范围的字符。比如，[!a-zA-Z]表示匹配非英文字母的字符。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" report"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("–3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".txt\nreport4.txt report5.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面代码中，[!1-3]表示排除1、2和3。")]),s._v(" "),t("h2",{attrs:{id:"_6-大括号扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-大括号扩展"}},[s._v("#")]),s._v(" 6. 大括号扩展{}")]),s._v(" "),t("p",[s._v("大括号扩展{...}表示分别扩展成大括号里面的所有值，各个值之间使用逗号分隔。比如，{1,2,3}扩展成1 2 3。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,2")]),s._v(",3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a,e,i,u,o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("g\ndag deg "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("dig")]),s._v(" dug dog\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" Front-"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("A,B,C"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("-Back\nFront-A-Back Front-B-Back Front-C-Back\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[t("strong",[s._v("注意，大括号扩展不是文件名扩展。它会扩展成所有给定的值，而不管是否有对应的文件存在。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a,b,c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(".txt\nls: 无法访问"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a.txt'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 没有那个文件或目录\nls: 无法访问"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b.txt'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 没有那个文件或目录\nls: 无法访问"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'c.txt'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 没有那个文件或目录\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("上面例子中，即使不存在对应的文件，{a,b,c}依然扩展成三个文件名，导致ls命令报了三个错误。")]),s._v(" "),t("p",[t("strong",[s._v("另一个需要注意的地方是，大括号内部的逗号前后不能有空格。否则，大括号扩展会失效。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" , "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" , "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面例子中，逗号前后有空格，Bash 就会认为这不是大括号扩展，而是三个独立的参数。")]),s._v(" "),t("p",[s._v("逗号前面可以没有值，表示扩展的第一项为空。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" a.log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(",.bak"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等同于")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp a.log a.log.bak")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("大括号可以嵌套。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("j"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("p,pe"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("g,png"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\njpg jpeg png\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("b\naA1b aA2b aB3b aB4b\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("大括号也可以与其他模式联用，并且总是先于其他模式进行扩展。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("cat,d*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" dawg dg "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("dig")]),s._v(" dog doug dug\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面例子中，会先进行大括号扩展，然后进行"),t("code",[s._v("*")]),s._v("扩展。")]),s._v(" "),t("p",[s._v("大括号可以用于多字符的模式，方括号不行（只能匹配单字符）。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("cat,dog"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" dog\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("由于大括号扩展{...}不是文件名扩展，所以它总是会扩展的。这与方括号扩展[...]完全不同，如果匹配的文件不存在，方括号就不会扩展。这一点要注意区分。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ab"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".txt\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ab"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".txt\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a,b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(".txt\na.txt b.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("上面例子中，如果不存在a.txt和b.txt，那么[ab].txt就会变成一个普通的文件名，而{a,b}.txt可以照样扩展。")]),s._v(" "),t("h3",{attrs:{id:"_6-1-start-end-扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-start-end-扩展"}},[s._v("#")]),s._v(" 6.1 {start..end} 扩展")]),s._v(" "),t("p",[s._v("大括号扩展有一个简写形式{start..end}，表示扩展成一个连续序列。比如，{a..z}可以扩展成26个小写英文字母。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\na b c\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("g\ndag dbg dcg ddg\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" Number_"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nNumber_1 Number_2 Number_3 Number_4 Number_5\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("这种简写形式支持逆序。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nc b a\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("注意，如果遇到无法理解的简写，大括号模式就会原样输出，不会扩展。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("3c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("3c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("这种简写形式可以嵌套使用，形成复杂的扩展。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" ."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("mp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",m4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a,b,p,v"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n.mp3 .mp4 .m4a .m4b .m4p .m4v\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("大括号扩展的常见用途为新建一系列目录。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2007")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2009")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("01"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("上面命令会新建36个子目录，每个子目录的名字都是”年份-月份“。")]),s._v(" "),t("p",[s._v("这个写法的另一个常见用途，是直接用于for循环。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("上面例子会循环4次。")]),s._v(" "),t("p",[s._v("如果整数前面有前导0，扩展输出的每一项都有前导0。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("01"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n01 02 03 04 05\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("001"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n001 002 003 004 005\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("这种简写形式还可以使用第二个双点号（start..end..step），用来指定扩展的步长。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面代码将0扩展到8，每次递增的长度为2，所以一共输出5个数字。")]),s._v(" "),t("p",[s._v("多个简写形式连用，会有循环处理的效果。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\na1 a2 a3 b1 b2 b3 c1 c2 c3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"_7-变量扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-变量扩展"}},[s._v("#")]),s._v(" 7. 变量扩展${}")]),s._v(" "),t("p",[s._v("Bash 将美元符号$开头的词元视为变量，将其扩展成变量值，详见《Bash 变量》一章。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$SHELL")]),s._v("\n/bin/bash\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("变量名除了放在美元符号后面，也可以放在"),t("code",[s._v("${}")]),s._v("里面。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("SHELL")]),s._v("}")]),s._v("\n/bin/bash\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("${!string*}")]),s._v("或"),t("code",[s._v("${!string@}")]),s._v("返回所有匹配给定字符串string的变量名。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("S*}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("SECONDS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("SHELL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("SHELLOPTS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("SHLVL")]),s._v(" SSH_AGENT_PID "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("SSH_AUTH_SOCK")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面例子中，"),t("code",[s._v("${!S*}")]),s._v("扩展成所有以S开头的变量名。")]),s._v(" "),t("h2",{attrs:{id:"_8-子命令扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-子命令扩展"}},[s._v("#")]),s._v(" 8. 子命令扩展")]),s._v(" "),t("p",[t("code",[s._v("$(...)")]),s._v("可以扩展成另一个命令的运行结果，该命令的所有输出都会作为返回值。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\nTue Jan "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" 00:01:13 CST "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面例子中，"),t("code",[s._v("$(date)")]),s._v("返回"),t("code",[s._v("date")]),s._v("命令的运行结果。")]),s._v(" "),t("p",[s._v("还有另一种较老的语法，子命令放在反引号之中，也可以扩展成命令的运行结果。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\nTue Jan "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" 00:01:13 CST "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("blockquote",[t("p",[s._v("上古语法反引号不推荐使用")])]),s._v(" "),t("p",[t("code",[s._v("$(...)")]),s._v("可以嵌套，比如"),t("code",[s._v("$(ls $(pwd))")]),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"_9-算术扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-算术扩展"}},[s._v("#")]),s._v(" 9. 算术扩展$(())")]),s._v(" "),t("p",[t("code",[s._v("$((...))")]),s._v("可以扩展成整数运算的结果，详见《Bash 的算术运算》一章。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"_10-字符类-class"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10-字符类-class"}},[s._v("#")]),s._v(" 10. 字符类[[:class:]]")]),s._v(" "),t("p",[s._v("[[:class:]]表示一个字符类，扩展成某一类特定字符之中的一个。常用的字符类如下。")]),s._v(" "),t("ul",[t("li",[s._v("[[:alnum:]]：匹配任意英文字母与数字")]),s._v(" "),t("li",[s._v("[[:alpha:]]：匹配任意英文字母")]),s._v(" "),t("li",[s._v("[[:blank:]]：空格和 Tab 键。")]),s._v(" "),t("li",[s._v("[[:cntrl:]]：ASCII 码 0-31 的不可打印字符。")]),s._v(" "),t("li",[s._v("[[:digit:]]：匹配任意数字 0-9。")]),s._v(" "),t("li",[s._v("[[:graph:]]：A-Z、a-z、0-9 和标点符号。")]),s._v(" "),t("li",[s._v("[[:lower:]]：匹配任意小写字母 a-z。")]),s._v(" "),t("li",[s._v("[[:print:]]：ASCII 码 32-127 的可打印字符。")]),s._v(" "),t("li",[s._v("[[:punct:]]：标点符号（除了 A-Z、a-z、0-9 的可打印字符）。")]),s._v(" "),t("li",[s._v("[[:space:]]：空格、Tab、LF（10）、VT（11）、FF（12）、CR（13）。")]),s._v(" "),t("li",[s._v("[[:upper:]]：匹配任意大写字母 A-Z。")]),s._v(" "),t("li",[s._v("[[:xdigit:]]：16进制字符（A-F、a-f、0-9）。")])]),s._v(" "),t("p",[s._v("请看下面的例子。")]),s._v(" "),t("p",[t("code",[s._v("$ echo [[:upper:]]*")]),s._v("\n上面命令输出所有大写字母开头的文件名。")]),s._v(" "),t("p",[s._v("字符类的第一个方括号后面，可以加上感叹号!，表示否定。比如，"),t("code",[s._v("[![:digit:]]")]),s._v("匹配所有非数字。")]),s._v(" "),t("p",[t("code",[s._v("$ echo [![:digit:]]*")]),s._v("\n上面命令输出所有不以数字开头的文件名。")]),s._v(" "),t("p",[s._v("字符类也属于文件名扩展，如果没有匹配的文件名，字符类就会原样输出。")]),s._v(" "),t("p",[s._v("$ echo [[:upper:]]*\n[[:upper:]]*\n上面例子中，由于没有可匹配的文件，字符类就原样输出了。")]),s._v(" "),t("h2",{attrs:{id:"_11-使用注意点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11-使用注意点"}},[s._v("#")]),s._v(" 11. 使用注意点")]),s._v(" "),t("p",[s._v("通配符有一些使用注意点，不可不知。")]),s._v(" "),t("p",[s._v("（1）通配符是先解释，再执行。")]),s._v(" "),t("p",[s._v("Bash 接收到命令以后，发现里面有通配符，会进行通配符扩展，然后再执行命令。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" a*.txt\nab.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面命令的执行过程是，Bash 先将"),t("code",[s._v("a*.txt")]),s._v("扩展成"),t("code",[s._v("ab.txt")]),s._v("，然后再执行"),t("code",[s._v("ls ab.txt")]),s._v("。")]),s._v(" "),t("p",[s._v("（2）文件名扩展在不匹配时，会原样输出。")]),s._v(" "),t("p",[s._v("文件名扩展在没有可匹配的文件时，会原样输出。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" r*\nr*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面代码中，由于不存在r开头的文件名，"),t("code",[s._v("r*")]),s._v("会原样输出。")]),s._v(" "),t("p",[s._v("下面是另一个例子。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" *.csv\nls: *.csv: No such "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("另外，前面已经说过，大括号扩展"),t("code",[s._v("{...}")]),s._v("不是文件名扩展。")]),s._v(" "),t("p",[s._v("（3）只适用于单层路径。")]),s._v(" "),t("p",[s._v("所有文件名扩展只匹配单层路径，不能跨目录匹配，即无法匹配子目录里面的文件。或者说，"),t("code",[s._v("?")]),s._v("或"),t("code",[s._v("*")]),s._v("这样的通配符，不能匹配路径分隔符（/）。")]),s._v(" "),t("p",[s._v("如果要匹配子目录里面的文件，可以写成下面这样。")]),s._v(" "),t("p",[t("code",[s._v("$ ls */*.txt")]),s._v("\nBash 4.0 新增了一个globstar参数，允许"),t("code",[s._v("**")]),s._v("匹配零个或多个子目录，详见后面shopt命令的介绍。")]),s._v(" "),t("p",[s._v("（4）文件名可以使用通配符。")]),s._v(" "),t("p",[s._v("Bash 允许文件名使用通配符，即文件名包括特殊字符。这时引用文件名，需要把文件名放在单引号里面。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fo*'")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\nfo*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("上面代码创建了一个fo"),t("em",[s._v("文件，这时")]),s._v("就是文件名的一部分。")]),s._v(" "),t("h2",{attrs:{id:"_12-量词语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_12-量词语法"}},[s._v("#")]),s._v(" 12. 量词语法")]),s._v(" "),t("p",[s._v("量词语法用来控制模式匹配的次数。它只有在 Bash 的extglob参数打开的情况下才能使用，不过一般是默认打开的。下面的命令可以查询。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shopt")]),s._v(" extglob\nextglob         on\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("量词语法有下面几个。")]),s._v(" "),t("p",[t("code",[s._v("?(pattern-list)")]),s._v("：匹配零个或一个模式。\n"),t("code",[s._v("*(pattern-list)")]),s._v("：匹配零个或多个模式。\n"),t("code",[s._v("+(pattern-list)")]),s._v("：匹配一个或多个模式。\n"),t("code",[s._v("@(pattern-list)")]),s._v("：只匹配一个模式。\n"),t("code",[s._v("!(pattern-list)")]),s._v("：匹配零个或一个以上的模式，但不匹配单独一个的模式。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" abc?"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("txt\nabctxt abc.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面例子中，"),t("code",[s._v("?(.)")]),s._v("匹配零个或一个点。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" abc?"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("def"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nabc abcdef\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面例子中，?(def)匹配零个或一个def。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" abc+"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(".txt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(".php"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nabc.php abc.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面例子中，"),t("code",[s._v("+(.txt|.php)")]),s._v("匹配文件有一个.txt或.php后缀名。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" abc+"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(".txt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nabc.txt abc.txt.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面例子中，+(.txt)匹配文件有一个或多个.txt后缀名。")]),s._v(" "),t("p",[s._v("量词语法也属于文件名扩展，如果不存在可匹配的文件，就会原样输出。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" abc?"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("def"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nls: 无法访问"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'abc?(def)'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 没有那个文件或目录\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面例子中，由于没有可匹配的文件，abc?(def)就原样输出，导致ls命令报错。")]),s._v(" "),t("h2",{attrs:{id:"_13-shopt-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_13-shopt-命令"}},[s._v("#")]),s._v(" 13. shopt 命令")]),s._v(" "),t("p",[s._v("shopt命令可以调整 Bash 的行为。它有好几个参数跟通配符扩展有关。")]),s._v(" "),t("p",[s._v("shopt命令的使用方法如下。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shopt")]),s._v(" -s "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("optionname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shopt")]),s._v(" -u "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("optionname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shopt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("optionname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("（1）dotglob 参数")]),s._v(" "),t("p",[s._v("dotglob参数可以让扩展结果包括隐藏文件（即点开头的文件）。")]),s._v(" "),t("p",[s._v("正常情况下，扩展结果不包括隐藏文件。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" *\nabc.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("打开dotglob，就会包括隐藏文件。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shopt")]),s._v(" -s dotglob\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" *\nabc.txt .config\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("（2）nullglob 参数")]),s._v(" "),t("p",[s._v("nullglob参数可以让通配符不匹配任何文件名时，返回空字符。")]),s._v(" "),t("p",[s._v("默认情况下，通配符不匹配任何文件名时，会保持不变。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" b*\nrm: 无法删除"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b*'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 没有那个文件或目录\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面例子中，由于当前目录不包括b开头的文件名，导致b"),t("em",[s._v("不会发生文件名扩展，保持原样不变，所以rm命令报错没有b")]),s._v("这个文件。")]),s._v(" "),t("p",[s._v("打开nullglob参数，就可以让不匹配的通配符返回空字符串。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shopt")]),s._v(" -s nullglob\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" b*\nrm: 缺少操作数\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("上面例子中，由于没有b"),t("em",[s._v("匹配的文件名，所以rm b")]),s._v("扩展成了rm，导致报错变成了”缺少操作数“。")]),s._v(" "),t("p",[s._v("（3）failglob 参数")]),s._v(" "),t("p",[s._v("failglob参数使得通配符不匹配任何文件名时，Bash 会直接报错，而不是让各个命令去处理。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shopt")]),s._v(" -s failglob\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" b*\nbash: 无匹配: b*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("上面例子中，打开failglob以后，由于"),t("code",[s._v("b*")]),s._v("不匹配任何文件名，Bash 直接报错了，不再让rm命令去处理。")]),s._v(" "),t("p",[s._v("（4）extglob 参数")]),s._v(" "),t("p",[s._v("extglob参数使得 Bash 支持 ksh 的一些扩展语法。它默认应该是打开的。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shopt")]),s._v(" extglob\nextglob         on\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("它的主要应用是支持量词语法。如果不希望支持量词语法，可以用下面的命令关闭。")]),s._v(" "),t("p",[t("code",[s._v("$ shopt -u extglob")])]),s._v(" "),t("p",[s._v("（5）nocaseglob 参数")]),s._v(" "),t("p",[s._v("nocaseglob参数可以让通配符扩展不区分大小写。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shopt")]),s._v(" -s nocaseglob\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /windows/program*\n/windows/ProgramData\n/windows/Program Files\n/windows/Program Files "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x86"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("上面例子中，打开nocaseglob以后，"),t("code",[s._v("program*")]),s._v("就不区分大小写了，可以匹配ProgramData等。")]),s._v(" "),t("p",[s._v("（6）globstar 参数")]),s._v(" "),t("p",[s._v("globstar参数可以使得"),t("code",[s._v("**")]),s._v("匹配零个或多个子目录。该参数默认是关闭的。")]),s._v(" "),t("p",[s._v("假设有下面的文件结构。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("a.txt\nsub1/b.txt\nsub1/sub2/c.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("上面的文件结构中，顶层目录、第一级子目录sub1、第二级子目录sub1\\sub2里面各有一个文本文件。请问怎样才能使用通配符，将它们显示出来？")]),s._v(" "),t("p",[s._v("默认情况下，只能写成下面这样。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" *.txt */*.txt */*/*.txt\na.txt  sub1/b.txt  sub1/sub2/c.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("这是因为"),t("code",[s._v("*")]),s._v("只匹配当前目录，如果要匹配子目录，只能一层层写出来。")]),s._v(" "),t("p",[s._v("打开globstar参数以后，"),t("code",[s._v("**")]),s._v("匹配零个或多个子目录。因此，"),t("code",[s._v("**/*.txt")]),s._v("就可以得到想要的结果。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shopt")]),s._v(" -s globstar\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" **/*.txt\na.txt  sub1/b.txt  sub1/sub2/c.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);