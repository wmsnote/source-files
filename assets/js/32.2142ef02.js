(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{359:function(t,e,a){"use strict";a.r(e);var s=a(12),l=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_1-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[t._v("#")]),t._v(" 1. 简介")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("ctrl+a")]),t._v(": 光标移动到行首")]),t._v(" "),a("li",[a("code",[t._v("ctrl+e")]),t._v(": 光标移动到行未")]),t._v(" "),a("li",[a("code",[t._v("ctrl+u")]),t._v(": 光标位置删除到行首")]),t._v(" "),a("li",[a("code",[t._v("ctrl+k")]),t._v(": 光标位置删除到行尾")])]),t._v(" "),a("p",[t._v("Bash 内置了 Readline 库，具有这个库提供的很多“行操作”功能，比如命令的自动补全，可以大大加快操作速度。")]),t._v(" "),a("p",[t._v("这个库默认采用 Emacs 快捷键，也可以改成 Vi 快捷键。")]),t._v(" "),a("p",[a("code",[t._v("$ set -o vi")])]),t._v(" "),a("p",[t._v("下面的命令可以改回 Emacs 快捷键。")]),t._v(" "),a("p",[a("code",[t._v("$ set -o emacs")])]),t._v(" "),a("p",[t._v("如果想永久性更改编辑模式（Emacs / Vi），可以将命令写在"),a("code",[t._v("~/.inputrc")]),t._v("文件，这个文件是 Readline 的配置文件。")]),t._v(" "),a("p",[a("code",[t._v("set editing-mode vi")])]),t._v(" "),a("p",[t._v("本章介绍的快捷键都属于 Emacs 模式。Vi 模式的快捷键，读者可以参考 Vi 编辑器的教程。")]),t._v(" "),a("p",[t._v("Bash 默认开启这个库，但是允许关闭。")]),t._v(" "),a("p",[a("code",[t._v("$ bash --noediting")])]),t._v(" "),a("p",[t._v("上面命令中，--noediting参数关闭了 Readline 库，启动的 Bash 就不带有行操作功能。")]),t._v(" "),a("h2",{attrs:{id:"_2-光标移动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-光标移动"}},[t._v("#")]),t._v(" 2. 光标移动")]),t._v(" "),a("p",[t._v("Readline 提供快速移动光标的快捷键。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("command")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("操作")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + a")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("移到行首。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + b")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("向行首移动一个字符，与左箭头作用相同。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + e")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("移到行尾。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + f")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("向行尾移动一个字符，与右箭头作用相同。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + f")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("移动到当前单词的词尾。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + b")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("移动到当前单词的词首。")])])])]),t._v(" "),a("p",[t._v("上面快捷键的 Alt 键，也可以用 ESC 键代替。")]),t._v(" "),a("h2",{attrs:{id:"_3-清除屏幕"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-清除屏幕"}},[t._v("#")]),t._v(" 3. 清除屏幕")]),t._v(" "),a("p",[a("code",[t._v("Ctrl + l")]),t._v("快捷键可以清除屏幕，即将当前行移到屏幕的第一行，与clear命令作用相同。")]),t._v(" "),a("h2",{attrs:{id:"_4-编辑操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-编辑操作"}},[t._v("#")]),t._v(" 4. 编辑操作")]),t._v(" "),a("p",[t._v("下面的快捷键可以编辑命令行内容。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("command")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("操作")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + d")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("删除光标位置的字符（delete）。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + w")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("删除光标前面的单词。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + t")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("光标位置的字符与它前面一位的字符交换位置（transpose）。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + t")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("光标位置的词与它前面一位的词交换位置（transpose）。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + l")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("将光标位置至词尾转为小写（lowercase）。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + u")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("将光标位置至词尾转为大写（uppercase）。")])])])]),t._v(" "),a("p",[t._v("使用"),a("code",[t._v("Ctrl + d")]),t._v("的时候，如果当前行没有任何字符，会导致退出当前 Shell，所以要小心。")]),t._v(" "),a("p",[t._v("剪切和粘贴快捷键如下。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("command")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("操作")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + k")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("剪切光标位置到行尾的文本。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + u")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("剪切光标位置到行首的文本。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + d")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("剪切光标位置到词尾的文本。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + Backspace")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("剪切光标位置到词首的文本。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("在光标位置粘贴文本。")])])])]),t._v(" "),a("p",[t._v("同样地，Alt 键可以用 Esc 键代替。")]),t._v(" "),a("h2",{attrs:{id:"_5-自动补全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-自动补全"}},[t._v("#")]),t._v(" 5. 自动补全")]),t._v(" "),a("p",[t._v("命令输入到一半的时候，可以按一下 Tab 键，Readline 会自动补全命令或路径。比如，输入cle，再按下 Tab 键，Bash 会自动将这个命令补全为clear。")]),t._v(" "),a("p",[t._v("如果符合条件的命令或路径有多个，就需要连续按两次 Tab 键，Bash 会提示所有符合条件的命令或路径。")]),t._v(" "),a("p",[t._v("除了命令或路径，Tab 还可以补全其他值。如果一个值以$开头，则按下 Tab 键会补全变量；如果以"),a("code",[t._v("~")]),t._v("开头，则补全用户名；\n如果以"),a("code",[t._v("@")]),t._v("开头，则补全主机名（hostname），主机名以列在/etc/hosts文件里面的主机为准。")]),t._v(" "),a("p",[t._v("自动补全相关的快捷键如下。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("command")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("操作")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Tab")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("完成自动补全。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + ?")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("列出可能的补全，与连按两次 Tab 键作用相同。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + /")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("尝试文件路径补全。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + x /")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("先按Ctrl + x，再按/，等同于Alt + ?，列出可能的文件路径补全。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + !")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("命令补全。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + x !")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("先按Ctrl + x，再按!，等同于Alt + !，命令补全。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + ~")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("用户名补全。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + x ~")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("先按Ctrl + x，再按~，等同于Alt + ~，用户名补全。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + $")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("变量名补全。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + x $")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("先按Ctrl + x，再按$，等同于Alt + $，变量名补全。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + @")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("主机名补全。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + x @")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("先按Ctrl + x，再按@，等同于Alt + @，主机名补全。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + *")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("在命令行一次性插入所有可能的补全。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + Tab")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("尝试用.bash_history里面以前执行命令，进行补全。")])])])]),t._v(" "),a("p",[t._v("上面的Alt键也可以用 ESC 键代替。")]),t._v(" "),a("h2",{attrs:{id:"_6-操作历史"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-操作历史"}},[t._v("#")]),t._v(" 6. 操作历史")]),t._v(" "),a("h3",{attrs:{id:"_6-1-基本用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-基本用法"}},[t._v("#")]),t._v(" 6.1 基本用法")]),t._v(" "),a("p",[t._v("Bash 会保留用户的操作历史，即用户输入的每一条命令都会记录。退出当前 Shell 的时候，Bash 会将用户在当前 Shell 的操作历史写入"),a("code",[t._v("~/.bash_history")]),t._v("文件，该文件默认储存500个操作。")]),t._v(" "),a("p",[t._v("环境变量HISTFILE总是指向这个文件。")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HISTFILE")]),t._v("\n/home/me/.bash_history\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("有了操作历史以后，就可以使用方向键的↑和↓，快速浏览上一条和下一条命令。")]),t._v(" "),a("p",[t._v("下面的方法可以快速执行以前执行过的命令。")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" Hello World\nHello World\n\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" Goodbye\nGoodbye\n\n$ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("e\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" Goodbye\nGoodbye\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("上面例子中，"),a("code",[t._v("!e")]),t._v("表示找出操作历史之中，最近的那一条以e开头的命令并执行。Bash 会先输出那一条命令echo Goodbye，然后直接执行。")]),t._v(" "),a("p",[t._v("同理，!echo也会执行最近一条以echo开头的命令。")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("echo\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" Goodbye\nGoodbye\n\n$ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("echo H\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" Goodbye H\nGoodbye H\n\n$ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("echo H G\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" Goodbye H G\nGoodbye H G\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("注意，!string语法只会匹配命令，不会匹配参数。所以!echo H不会执行echo Hello World，而是会执行echo Goodbye，并把参数H附加在这条命令之后。同理，!echo H G也是等同于echo Goodbye命令之后附加H G。")]),t._v(" "),a("p",[t._v("最后，按下Ctrl + r会显示操作历史，可以用方向键上下移动，选择其中要执行的命令。也可以键入命令的首字母，Shell 就会自动在历史文件中，查询并显示匹配的结果。")]),t._v(" "),a("h3",{attrs:{id:"_6-2-history-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-history-命令"}},[t._v("#")]),t._v(" 6.2 history 命令")]),t._v(" "),a("p",[t._v("history命令能显示操作历史，即 "),a("code",[t._v(".bash_history")]),t._v(" 文件的内容。")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("history")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("498")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" Goodbye\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("499")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" ~\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("使用该命令，而不是直接读取.bash_history文件的好处是，它会在所有的操作前加上行号，最近的操作在最后面，行号最大。")]),t._v(" "),a("p",[t._v("通过定制环境变量HISTTIMEFORMAT，可以显示每个操作的时间。")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("HISTTIMEFORMAT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%F %T  '")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("history")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2013")]),t._v("-06-09 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(":40:12   "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" /etc/issue\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2013")]),t._v("-06-09 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(":40:12   "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("上面代码中，%F相当于%Y - %m - %d，%T相当于%H : %M : %S。")]),t._v(" "),a("p",[t._v("只要设置HISTTIMEFORMAT这个环境变量，就会在.bash_history文件保存命令的执行时间戳。如果不设置，就不会保存时间戳。")]),t._v(" "),a("p",[t._v("如果不希望保存本次操作的历史，可以设置环境变量HISTSIZE等于0。")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("HISTSIZE")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("如果HISTSIZE=0写入用户主目录的"),a("code",[t._v("~/.bashrc")]),t._v("文件，那么就不会保留该用户的操作历史。如果写入/etc/profile，整个系统都不会保留操作历史。")]),t._v(" "),a("p",[t._v("如果想搜索某个以前执行的命令，可以配合grep命令搜索操作历史。")]),t._v(" "),a("p",[a("code",[t._v("$ history | grep /usr/bin")])]),t._v(" "),a("p",[t._v("上面命令返回.bash_history文件里面，那些包含/usr/bin的命令。")]),t._v(" "),a("p",[t._v("操作历史的每一条记录都有编号。知道了命令的编号以后，可以用感叹号 + 编号执行该命令。如果想要执行.bash_history里面的第8条命令，可以像下面这样操作。")]),t._v(" "),a("p",[a("code",[t._v("$ !8")])]),t._v(" "),a("p",[t._v("history命令的-c参数可以清除操作历史。")]),t._v(" "),a("p",[a("code",[t._v("$ history -c")])]),t._v(" "),a("h3",{attrs:{id:"_6-3-相关快捷键"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-相关快捷键"}},[t._v("#")]),t._v(" 6.3 相关快捷键")]),t._v(" "),a("p",[t._v("下面是一些与操作历史相关的快捷键。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("command")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("操作")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + p")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示上一个命令，与向上箭头效果相同（previous）。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + n")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示下一个命令，与向下箭头效果相同（next）。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + <")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示第一个命令。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + >")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示最后一个命令，即当前的命令。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + o")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("执行历史文件里面的当前条目，并自动显示下一条命令。这对重复执行某个序列的命令很有帮助。")])])])]),t._v(" "),a("p",[t._v("感叹号"),a("code",[t._v("!")]),t._v("的快捷键如下。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("command")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("操作")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("!!")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("执行上一个命令。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("!n")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("执行历史文件里面行号为n的命令。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("!-n")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("执行当前命令之前n条的命令。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("!string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("执行最近一个以指定字符串string开头的命令。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("!?string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("执行最近一条包含字符串string的命令。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("^string1^string2")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("执行最近一条包含string1的命令，将其替换成string2。")])])])]),t._v(" "),a("h2",{attrs:{id:"_7-其他快捷键"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-其他快捷键"}},[t._v("#")]),t._v(" 7. 其他快捷键")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("command")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("操作")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + j")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("等同于回车键（LINEFEED）。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + m")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("等同于回车键（CARRIAGE RETURN）。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + o")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("等同于回车键，并展示操作历史的下一个命令。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + v")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("将下一个输入的特殊字符变成字面量，比如回车变成^M。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Ctrl + [")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("等同于 ESC。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + .")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("插入上一个命令的最后一个词。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Alt + _")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("等同于Alt + .。")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("上面的"),a("code",[t._v("Alt + .")]),t._v("快捷键，对于很长的文件路径，有时会非常方便。因为 Unix 命令的最后一个参数通常是文件路径。")])]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" foo_bar\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("上面例子中，在cd命令后按下"),a("code",[t._v("Alt + .")]),t._v("，就会自动插入foo_bar。")])])}),[],!1,null,null,null);e.default=l.exports}}]);