(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{383:function(s,e,l){"use strict";l.r(e);var t=l(9),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,l=s._self._c||e;return l("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[l("p",[s._v("yum install postgresql10-server postgresql10")]),s._v(" "),l("p",[s._v("postgresql.org/download/linux/redhat             网址")]),s._v(" "),l("p",[s._v("验证是否安装成功   rpm -qa|grep postgresql10")]),s._v(" "),l("p",[s._v("安装完成以后,默认创建用户 postgresql:postgresql   [linux用户, 非DB用户]")]),s._v(" "),l("p",[s._v("默认数据库路径: /var/lib/pgsql/10/data")]),s._v(" "),l("p",[s._v("修改数据库路径: 配置文件=> /usr/lib/systemd/system/postgresql-10.service")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",[l("code",[s._v("如果修改数据库路径:\nmdkir /mydb\nchown -R postgres:postgres mydb\nchmod 700 mydb\nvi /usr/lib/system/systemd/postgresql-10.service\n# on line 30\nEnvironment=PGDATA=/mydb\n")])])]),l("p",[s._v("初始化数据库,并没有启动数据库进程\n/usr/pgsql-10/bin/postgresql-10-setup initdb")]),s._v(" "),l("p",[s._v("设置远程访问[这个配置文件在上面初始化完成以后生成的,配置文件所在的路径是数据库路径,就是上面默认的数据库路径]\nvi /var/lib/pgsql/10/data/postgresql.conf\n修改 "),l("code",[s._v('listen_addresses = "*"')])]),s._v(" "),l("p",[s._v("信任远程连接(文件位置同上)\nvi /var/lib/pgsql/10/data/pg_hba.conf\n添加   "),l("code",[s._v("host all all 0.0.0.0/0 md5")])]),s._v(" "),l("p",[s._v("systemctl enable postgresql-10   开机自启动\nsystemctl start postgresql-10   启动数据库    ss -lunt|grep 5432  默认端口5432")]),s._v(" "),l("hr"),s._v(" "),l("p",[s._v("su - postgres   切换到postgres用户 "),l("code",[s._v("-")]),s._v(": 不仅切换到postgres身份 还切换到了postgres的shell环境\npgsql -h 主机\n-p 端口\n-U 用户")]),s._v(" "),l("p",[s._v("psql -U postgres(数据库用户) postgres(数据库)")]),s._v(" "),l("p",[s._v("说明:")]),s._v(" "),l("ul",[l("li",[s._v("数据库用户是初始化数据库,自动创建的数据库用户\n"),l("ol",[l("li",[s._v("超级用户")]),s._v(" "),l("li",[s._v("和安装程序时创建的系统用户同名(不指定数据库用户,默认使用当前linux同名的用户登录, so, 直接运行 psql 也是可以的, 因为当前shell用户是postgres正好和数据库用户同名 )")])])]),s._v(" "),l("li",[s._v("postgres数据库是初始化数据库自动创建的默认数据库")])]),s._v(" "),l("p",[s._v("修改密码的两种方式:\n方式一: psql -c \"alter user postgres with password '123456'\"\nALTER ROLE 说明修改成功\n方式二:\npsql\npostgres = #\\password")]),s._v(" "),l("p",[s._v("postgresql和oracle很像, mysql是现有用户,给用户分配库\npostgresql是先有模式(逻辑区),模式下面创建库")]),s._v(" "),l("hr"),s._v(" "),l("p",[s._v("\\password 修改密码\n\\q 退出\n\\l 列出database\n\\du 列出role\n\\c dbname 切换DB\n\\d show tables\n\\d+ table describe table\n\\d table show columns from dbtable\n? 查看psql命令列表\n\\conninfo 列出连接信息\n\\h command 查看command详细使用方法")]),s._v(" "),l("p",[s._v("mysql 简单.快速.高效.流行(全世界最流行的数据库)\npsql  高级.安全.稳定.全名(全世界最高级的数据库)")]),s._v(" "),l("p",[s._v("psql建表有三种表:常规.外部.分区")]),s._v(" "),l("p",[s._v("外部表是把外部的数据库表或者文件映射成一张好像是psql自己的表一样\n分区表是psql内置了分表的功能,通过一些规则自动拆分表")]),s._v(" "),l("p",[s._v("自增di怎么实现? create table 模式.表名 (id serial);\nserial其实是int类型的,会自动创建一个sequence,从这个sequence获取id")])])}),[],!1,null,null,null);e.default=n.exports}}]);