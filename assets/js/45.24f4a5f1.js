(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{372:function(s,t,l){"use strict";l.r(t);var v=l(9),i=Object(v.a)({},(function(){var s=this,t=s.$createElement,l=s._self._c||t;return l("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[l("p",[s._v("原来一级缓存默认开启,我们一直在使用,只是我们不知道")]),s._v(" "),l("p",[l("img",{attrs:{src:"https://wums.oss-cn-beijing.aliyuncs.com/mybatis/20200511144704.png",alt:""}})]),s._v(" "),l("p",[l("img",{attrs:{src:"https://wums.oss-cn-beijing.aliyuncs.com/mybatis/20200511145850.png",alt:""}})]),s._v(" "),l("p",[s._v("命中原则?")]),s._v(" "),l("p",[s._v("两次查询是完全相同的查询且有缓存.")]),s._v(" "),l("p",[s._v("完全相同的查询:")]),s._v(" "),l("ol",[l("li",[s._v("statementId必须相同否则无法命中缓存,即使sql语句和参数完全相同")]),s._v(" "),l("li",[s._v("查询参数全完相同(这里的查询参数是sql语句参数)")]),s._v(" "),l("li",[s._v("分页参数必须相同(缓存的粒度是整个分页结果,不是结果中的每条)")]),s._v(" "),l("li",[s._v("传递给sql语句的文本必须一样")]),s._v(" "),l("li",[s._v("环境必须一样(dev/stage/prod不同环境不同的sql)")])]),s._v(" "),l("p",[s._v("一级缓存的声明周期?")]),s._v(" "),l("ul",[l("li",[s._v("执行查询的时候会产生缓存")]),s._v(" "),l("li",[s._v("关闭session的时候会销毁\n"),l("ul",[l("li",[s._v("session.commit()")]),s._v(" "),l("li",[s._v("session.rollback()")]),s._v(" "),l("li",[s._v("update、insert、delete")])])])]),s._v(" "),l("p",[l("strong",[s._v("mybatis一级缓存的生命周期是在数据库事物生命周期之内的")])])])}),[],!1,null,null,null);t.default=i.exports}}]);